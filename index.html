<html>
	<head>
		<script type="text/javascript" src="./blowfish.js"></script> 
		<script type="text/javascript">
			function callThis(input) {
				var val = '';
				
				if(input.value.startsWith("-d")){
					val = blowfish.decrypt(
						blowfish.decrypt(
							blowfish.decrypt(input.value.substring(2), '', {cipherMode: 0, outputType: 0})
						, '', {cipherMode: 0, outputType: 0})
					, '', {cipherMode: 0, outputType: 0});
				} else {
					val = blowfish.encrypt(
						blowfish.encrypt(
							blowfish.encrypt(input.value, '', {cipherMode: 0, outputType: 0})
						, '', {cipherMode: 0, outputType: 0})
					, '', {cipherMode: 0, outputType: 0});
				}
				
				if(input.value.length == 0) {
					val = '';
				}
				
				document.getElementById("outputId").value = val;
			}
		</script>
	</head>

	<body>
		<input onInput="callThis(this)">
		<input id="outputId">
	</body>
</html>
